count .req x2

mov count, #16
                                 // Instructions:    1
                                 // Expected cycles: 1
                                 // Expected IPC:    1.00
                                 //
                                 // Cycle bound:     1.0
                                 // IPC bound:       1.00
                                 //
                                 // Wall time:     0.00s
                                 // User time:     0.00s
                                 //
                                 // ----- cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|----
        ldr x16, [x0, #4]        // *.............................

                                  // ------ cycle (expected) ------>
                                  // 0                        25
                                  // |------------------------|-----
        // ldr x16, [x0, #4]      // *..............................

        sub count, count, #2
start:
                                 // Instructions:    4
                                 // Expected cycles: 4
                                 // Expected IPC:    1.00
                                 //
                                 // Cycle bound:     3.0
                                 // IPC bound:       1.33
                                 //
                                 // Wall time:     0.04s
                                 // User time:     0.04s
                                 //
                                 // ----- cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|----
        add x5, x5, x4           // *.............................
        add x2, x5, x1           // .*............................
        add x5, x16, x2          // ...*..........................
        ldr x16, [x0, #4]        // ...e..........................

                                 // ------ cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|-----
        // add x5, x5, x4        // .*...~...~...~...~...~...~...~.
        // add x7, x5, x1        // .'*..'~..'~..'~..'~..'~..'~..'.
        // ldr x5, [x0, #4]      // e'..~'..~'..~'..~'..~'..~'..~'.
        // add x5, x5, x7        // ~'..*'..~'..~'..~'..~'..~'..~'.

        subs count, count, 2
        b.gt start
                                // Instructions:    3
                                // Expected cycles: 3
                                // Expected IPC:    1.00
                                //
                                // Cycle bound:     3.0
                                // IPC bound:       1.00
                                //
                                // Wall time:     0.01s
                                // User time:     0.01s
                                //
                                // ----- cycle (expected) ------>
                                // 0                        25
                                // |------------------------|----
        add x5, x5, x4          // *.............................
        add x22, x5, x1         // .*............................
        add x5, x16, x22        // ..*...........................

                                // ------ cycle (expected) ------>
                                // 0                        25
                                // |------------------------|-----
        // add x5, x5, x4       // *..............................
        // add x2, x5, x1       // .*.............................
        // add x5, x16, x2      // ..*............................


                                 // Instructions:    1
                                 // Expected cycles: 1
                                 // Expected IPC:    1.00
                                 //
                                 // Cycle bound:     1.0
                                 // IPC bound:       1.00
                                 //
                                 // Wall time:     0.00s
                                 // User time:     0.00s
                                 //
                                 // ----- cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|----
        ldr x16, [x0, #4]        // *.............................

                                  // ------ cycle (expected) ------>
                                  // 0                        25
                                  // |------------------------|-----
        // ldr x16, [x0, #4]      // *..............................

        sub count, count, #2
start2:
                                 // Instructions:    4
                                 // Expected cycles: 4
                                 // Expected IPC:    1.00
                                 //
                                 // Cycle bound:     3.0
                                 // IPC bound:       1.33
                                 //
                                 // Wall time:     0.04s
                                 // User time:     0.04s
                                 //
                                 // ----- cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|----
        add x5, x5, x4           // *.............................
        add x2, x5, x1           // .*............................
        add x5, x16, x2          // ...*..........................
        ldr x16, [x0, #4]        // ...e..........................

                                 // ------ cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|-----
        // add x5, x5, x4        // .*...~...~...~...~...~...~...~.
        // add x7, x5, x1        // .'*..'~..'~..'~..'~..'~..'~..'.
        // ldr x5, [x0, #4]      // e'..~'..~'..~'..~'..~'..~'..~'.
        // add x5, x5, x7        // ~'..*'..~'..~'..~'..~'..~'..~'.

        subs count, count, 2
        bgt start2
                                // Instructions:    3
                                // Expected cycles: 3
                                // Expected IPC:    1.00
                                //
                                // Cycle bound:     3.0
                                // IPC bound:       1.00
                                //
                                // Wall time:     0.01s
                                // User time:     0.01s
                                //
                                // ----- cycle (expected) ------>
                                // 0                        25
                                // |------------------------|----
        add x5, x5, x4          // *.............................
        add x22, x5, x1         // .*............................
        add x5, x16, x22        // ..*...........................

                                // ------ cycle (expected) ------>
                                // 0                        25
                                // |------------------------|-----
        // add x5, x5, x4       // *..............................
        // add x2, x5, x1       // .*.............................
        // add x5, x16, x2      // ..*............................


                                 // Instructions:    1
                                 // Expected cycles: 1
                                 // Expected IPC:    1.00
                                 //
                                 // Cycle bound:     1.0
                                 // IPC bound:       1.00
                                 //
                                 // Wall time:     0.00s
                                 // User time:     0.00s
                                 //
                                 // ----- cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|----
        ldr x16, [x0, #4]        // *.............................

                                  // ------ cycle (expected) ------>
                                  // 0                        25
                                  // |------------------------|-----
        // ldr x16, [x0, #4]      // *..............................

        sub count, count, #2
start3:
                                 // Instructions:    4
                                 // Expected cycles: 4
                                 // Expected IPC:    1.00
                                 //
                                 // Cycle bound:     3.0
                                 // IPC bound:       1.33
                                 //
                                 // Wall time:     0.03s
                                 // User time:     0.03s
                                 //
                                 // ----- cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|----
        add x5, x5, x4           // *.............................
        add x2, x5, x1           // .*............................
        add x5, x16, x2          // ...*..........................
        ldr x16, [x0, #4]        // ...e..........................

                                 // ------ cycle (expected) ------>
                                 // 0                        25
                                 // |------------------------|-----
        // add x5, x5, x4        // .*...~...~...~...~...~...~...~.
        // add x7, x5, x1        // .'*..'~..'~..'~..'~..'~..'~..'.
        // ldr x5, [x0, #4]      // e'..~'..~'..~'..~'..~'..~'..~'.
        // add x5, x5, x7        // ~'..*'..~'..~'..~'..~'..~'..~'.

        subs count, count, 2
        b.cs start3
                                // Instructions:    3
                                // Expected cycles: 3
                                // Expected IPC:    1.00
                                //
                                // Cycle bound:     3.0
                                // IPC bound:       1.00
                                //
                                // Wall time:     0.01s
                                // User time:     0.01s
                                //
                                // ----- cycle (expected) ------>
                                // 0                        25
                                // |------------------------|----
        add x5, x5, x4          // *.............................
        add x22, x5, x1         // .*............................
        add x5, x16, x22        // ..*...........................

                                // ------ cycle (expected) ------>
                                // 0                        25
                                // |------------------------|-----
        // add x5, x5, x4       // *..............................
        // add x2, x5, x1       // .*.............................
        // add x5, x16, x2      // ..*............................

